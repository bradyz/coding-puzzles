from math import log, exp


legendre = dict()
legendre[2] = [(0.5773502692, 1.0000000000),
               (-0.5773502692, 1.0000000000)]
legendre[3] = [(0.7745966692, 0.5555555556),
               (0.0000000000, 0.8888888889),
               (-0.7745966692, 0.5555555556)]
legendre[4] = [(0.8611363116, 0.3478548451),
               (0.3399810436, 0.6521451549),
               (-0.3399810436, 0.6521451549),
               (-0.8611363116, 0.3478548451)]
legendre[5] = [(0.9061798459, 0.2369268850),
               (0.5384693101, 0.4786286705),
               (0.0000000000, 0.5688888889),
               (-0.5384693101, 0.4786286705),
               (-0.9061798459, 0.2369268850)]


p1a = lambda x: (x ** 2) * log(x)
p1b = lambda x: (x ** 2) * exp(-x)

problems = [(2.0, 1.0, 1.5, p1a),
            (3.0, 1.0, 1.5, p1a),
            (2.0, 0.0, 1.0, p1b),
            (3.0, 0.0, 1.0, p1b)]

for n, a, b, f in problems:
    g = lambda x: f(((b - a) * x + (b + a)) / 2) * ((b - a) / 2)

    ret = 0

    for r, c in legendre[n]:
        ret += c * g(r)

    print("%.7f" % ret)
